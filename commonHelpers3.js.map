{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst { email, message } = form.elements;\nconst LS_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(handlerInput, 500));\nform.addEventListener('submit', handlerSubmit);\n\nlet savedData = JSON.parse(localStorage.getItem(LS_KEY)) || {};\n\nreload();\n\nfunction reload() {\n  email.value = savedData.email || '';\n  message.value = savedData.message || '';\n}\n\nfunction handlerInput() {\n  savedData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  localStorage.setItem(LS_KEY, JSON.stringify(savedData));\n}\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  console.log({ email: email.value, message: message.value });\n\n  if (email.value === '' || message.value === '') {\n    return alert('Please fill all fields');\n  }\n\n  localStorage.removeItem(LS_KEY);\n  evt.currentTarget.reset();\n  savedData = {};\n}\n"],"names":["form","email","message","LS_KEY","throttle","handlerInput","handlerSubmit","savedData","reload","evt"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9C,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAK,SAC1BG,EAAS,sBAEfH,EAAK,iBAAiB,QAASI,EAASC,EAAc,GAAG,CAAC,EAC1DL,EAAK,iBAAiB,SAAUM,CAAa,EAE7C,IAAIC,EAAY,KAAK,MAAM,aAAa,QAAQJ,CAAM,CAAC,GAAK,GAE5DK,IAEA,SAASA,GAAS,CAChBP,EAAM,MAAQM,EAAU,OAAS,GACjCL,EAAQ,MAAQK,EAAU,SAAW,EACvC,CAEA,SAASF,GAAe,CACtBE,EAAY,CACV,MAAON,EAAM,MACb,QAASC,EAAQ,KACrB,EAEE,aAAa,QAAQC,EAAQ,KAAK,UAAUI,CAAS,CAAC,CACxD,CAEA,SAASD,EAAcG,EAAK,CAI1B,GAHAA,EAAI,eAAc,EAClB,QAAQ,IAAI,CAAE,MAAOR,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAEtDD,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,wBAAwB,EAGvC,aAAa,WAAWC,CAAM,EAC9BM,EAAI,cAAc,QAClBF,EAAY,CAAA,CACd"}